{"componentChunkName":"component---src-templates-blog-post-js","path":"/data-structure-graph-topological-sort/","result":{"data":{"site":{"siteMetadata":{"title":"jarednielsen.com","author":"Jared Nielsen"}},"markdownRemark":{"id":"559f0861-a24c-5d98-b709-fc1872a3ee84","excerpt":"At some point in your career (today?!) you will want to learn data structures. It‚Äôs not just to ace the technical interview and land your dream job. Learning‚Ä¶","html":"<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e8a05c1e0480dd327b5d4fb4401832d6/a987b/jarednielsen-data-structure-graph-bfs.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAv0lEQVQoz62SzQ6CMBCEef8H8urRqAc8KYImChhFBUUpbSnt2MZoPMivbjKbHrpfJjtrKaXQRq9q+me1gkgFsY+heNEIrQaawZxBXjNwNwBf7SDvRMNlLdSqc1d4IcjQBh3PUaw1kFCIQwzJqp3WAk0X2wh06oDaLriG5jMXIkl7ArWT8nQBc33cBiMwZwMeHvvt0JQkDMwLIKIEdLIAX/rdQsGH3imbN9XhpJlO+gxVlk91dvjlfH6+wz76O/ABRWhjLmqnyScAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"jarednielsen data structure graph bfs\"\n        title=\"\"\n        src=\"/static/e8a05c1e0480dd327b5d4fb4401832d6/b9e4f/jarednielsen-data-structure-graph-bfs.png\"\n        srcset=\"/static/e8a05c1e0480dd327b5d4fb4401832d6/cf440/jarednielsen-data-structure-graph-bfs.png 148w,\n/static/e8a05c1e0480dd327b5d4fb4401832d6/d2d38/jarednielsen-data-structure-graph-bfs.png 295w,\n/static/e8a05c1e0480dd327b5d4fb4401832d6/b9e4f/jarednielsen-data-structure-graph-bfs.png 590w,\n/static/e8a05c1e0480dd327b5d4fb4401832d6/f9b6a/jarednielsen-data-structure-graph-bfs.png 885w,\n/static/e8a05c1e0480dd327b5d4fb4401832d6/2d849/jarednielsen-data-structure-graph-bfs.png 1180w,\n/static/e8a05c1e0480dd327b5d4fb4401832d6/a987b/jarednielsen-data-structure-graph-bfs.png 1920w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>At some point in your career (today?!) you will want to learn data structures. It‚Äôs not <em>just</em> to ace the technical interview and land your dream job. Learning data structures will help you understand how software works and improve your problem-solving skills. In this tutorial, you will learn topological sort using a depth-first search graph traversal in JavaScript. </p>\n<p>If you‚Äôre just joining us, you may want to start with <a href=\"https://jarednielsen.com/data-structure-graph-javascript/\">Learn JavaScript Graph Data Structure</a>.</p>\n<h2>Retrieval Practice</h2>\n<p>Retrieval practice is the surest way to solidify any new learning. Attempt to answer the following questions before proceeding:</p>\n<ul>\n<li>What is a Graph?</li>\n<li>What problem(s) does a Graph solve? </li>\n<li>What is Depth-First Search? </li>\n</ul>\n<h3>What is a Graph?</h3>\n<p>A graph consists of a set of nodes, or <em>vertices</em>, connected by <em>edges</em>.  An edge consists of a pair of vertices. For example, if we establish a pair between two vertices, <code>A</code> and <code>B</code>, we refer t0 this related pairing as an edge. Because they are connected by an edge, <code>A</code> and <code>B</code> are <em>adjacent</em>.</p>\n<h3>What Problem(s) Does a Graph Solve?</h3>\n<ul>\n<li>Optimization: We can use the graph data structure in conjunction with an optimization algorithm for determining an optimal path, such as GPS</li>\n<li>Network topology: We can use the graph data structure when modeling network topology, such as the internet or your friends on Facebook!</li>\n</ul>\n<h3>What is Depth-First Search?</h3>\n<p>Depth-First Search is an algorithm that searches a graph for a specific goal by checking all of the vertices connected on a path before moving on to check the adjacent vertices. </p>\n<h2>Let‚Äôs Get Meta</h2>\n<ul>\n<li>What is topology? </li>\n<li>What is a directed acylclic graph? </li>\n<li>What is a topological sort?</li>\n</ul>\n<h3>What is Topology?</h3>\n<p>According to Wikipedia‚Ä¶</p>\n<blockquote>\n<p>In mathematics, topology is concerned with the properties of a geometric object that are preserved under continuous deformations, such as stretching, twisting, crumpling and bending, but not tearing or gluing. </p>\n</blockquote>\n<p>üôÑ</p>\n<p>Let‚Äôs think about this in the context of data structures. What is our geometric object? Our graph! We generally think of graphs in two dimensions, but they can easily be represented in three. What are the continuous deformations? The methods that add and remove vertices and edges. </p>\n<h3>What is a Directed Acylcic Graph?</h3>\n<p>According to <a href=\"https://en.wikipedia.org/wiki/Directed_acyclic_graph\">Wikipedia</a>, a directed acyclic graph is a graph that‚Ä¶  </p>\n<blockquote>\n<p>consists of vertices and edges, with each edge directed from one vertex to another, such that following those directions will never form a closed loop</p>\n</blockquote>\n<p>Let‚Äôs reverse engineer this term.</p>\n<p>We‚Äôre familiar with the term ‚Äògraph‚Äô. But what does <em>acyclic</em> mean? What is a cycle? </p>\n<blockquote>\n<p>a series of events that are regularly repeated in the same order.</p>\n</blockquote>\n<p>So if something is <em>cyclic</em>, it is ‚Äúoccurring in cycles; regularly repeated.‚Äù And if something is <em>acyclic</em>, it‚Äôs the opposite of that, meaning it does not occur in cycles.</p>\n<p>What does it mean if a graph is directed? The edges of a directed graph ‚Äúpoint‚Äù in a direction from one vertex to another. </p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/99baf78b0cdca3fc5f98fb4451208a62/a987b/jarednielsen-data-structure-directed-acyclic-graph.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABK0lEQVQoz62Su0oDQRSG82CCvW9gp7WVINiIrWghookPoIEgqGuRxEIxoGiSwsJ4IQYkKVKpkVVYo+7MfM5ll7BoyArOzg9nZ+Z85989k1FK8aukxIxAqzkxT2/Ns+9mVYaCYXmZYRtmvOSPKdVLPBQrbNzvUcsX4LztwFKkBMoB8HFyhZPVHB4tlvwyhZlZ6vsez4TQF9ppmN6hecxs0aM6vcD1Yo42ggv/jqPxKT4rN7ZobGA0UB+Uyv3HZq1Kp9GwMf4Hwc4ZB5dFutldeOubuimAWlIIy7hd36KzvG1joT/Tck+v6I7NIZ9eI6dyNDDu9Hu2TLB56BJ1EfXloEiVcPcDSKTEmnBQCzNNMEAjE8sojtyNdhjLAsTgFkjn3kklGpMO+Af9O/AbZ3dPtp0gNzoAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"directed acyclic graph\"\n        title=\"\"\n        src=\"/static/99baf78b0cdca3fc5f98fb4451208a62/b9e4f/jarednielsen-data-structure-directed-acyclic-graph.png\"\n        srcset=\"/static/99baf78b0cdca3fc5f98fb4451208a62/cf440/jarednielsen-data-structure-directed-acyclic-graph.png 148w,\n/static/99baf78b0cdca3fc5f98fb4451208a62/d2d38/jarednielsen-data-structure-directed-acyclic-graph.png 295w,\n/static/99baf78b0cdca3fc5f98fb4451208a62/b9e4f/jarednielsen-data-structure-directed-acyclic-graph.png 590w,\n/static/99baf78b0cdca3fc5f98fb4451208a62/f9b6a/jarednielsen-data-structure-directed-acyclic-graph.png 885w,\n/static/99baf78b0cdca3fc5f98fb4451208a62/2d849/jarednielsen-data-structure-directed-acyclic-graph.png 1180w,\n/static/99baf78b0cdca3fc5f98fb4451208a62/a987b/jarednielsen-data-structure-directed-acyclic-graph.png 1920w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h3>What is a Topological Sort?</h3>\n<p>There are a lot of popular analogies to explain topological sort, such as tasks that must be executed in a specific order or a list of skills and their prerequisites. </p>\n<p>My favorite analogy is the one used by Corment et al in <a href=\"https://amzn.to/372MOUz\">Introduction to Algorithms</a>, in which Professor Bumstead is getting dressed for work. After bathing, Prof Bumstead opens his closet to select the following garments:</p>\n<ul>\n<li>undershorts</li>\n<li>pants</li>\n<li>belt</li>\n<li>socks</li>\n<li>shoes</li>\n<li>shirt</li>\n<li>tie</li>\n<li>jacket</li>\n</ul>\n<p>If Professor Bumstead‚Äôs closet is a graph and the garments are vertices, then we can see that there is an order, or direction, in which the professor must suit up. Unless, of course, he is an absent-minded professor. </p>\n<h2>Topological Sort using Depth-First Search (DFS) in JavaScript</h2>\n<p>Let‚Äôs review our Graph class: </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Graph</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>vertices <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>adjacent <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>edges <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">addVertex</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">v</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>vertices<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>adjacent<span class=\"token punctuation\">[</span>v<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">addEdge</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">v<span class=\"token punctuation\">,</span> w</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>adjacent<span class=\"token punctuation\">[</span>v<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>w<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>adjacent<span class=\"token punctuation\">[</span>w<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>edges<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n\n    <span class=\"token function\">bfs</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">goal<span class=\"token punctuation\">,</span> root <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>vertices<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">let</span> adj <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>adjacent<span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">const</span> queue <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        queue<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">const</span> discovered <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        discovered<span class=\"token punctuation\">[</span>root<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">const</span> edges <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        edges<span class=\"token punctuation\">[</span>root<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">const</span> predecessors <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        predecessors<span class=\"token punctuation\">[</span>root<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">buildPath</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">goal<span class=\"token punctuation\">,</span> root<span class=\"token punctuation\">,</span> predecessors</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">const</span> stack <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n            stack<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>goal<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token keyword\">let</span> u <span class=\"token operator\">=</span> predecessors<span class=\"token punctuation\">[</span>goal<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token keyword\">while</span><span class=\"token punctuation\">(</span>u <span class=\"token operator\">!=</span> root<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                stack<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>u<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                u <span class=\"token operator\">=</span> predecessors<span class=\"token punctuation\">[</span>u<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n\n            stack<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token keyword\">let</span> path <span class=\"token operator\">=</span> stack<span class=\"token punctuation\">.</span><span class=\"token function\">reverse</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">'-'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token keyword\">return</span> path<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    \n\n        <span class=\"token keyword\">while</span><span class=\"token punctuation\">(</span>queue<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">let</span> v <span class=\"token operator\">=</span> queue<span class=\"token punctuation\">.</span><span class=\"token function\">shift</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>v <span class=\"token operator\">===</span> goal<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> \n                    distance<span class=\"token punctuation\">:</span> edges<span class=\"token punctuation\">[</span>goal<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                    path<span class=\"token punctuation\">:</span> <span class=\"token function\">buildPath</span><span class=\"token punctuation\">(</span>goal<span class=\"token punctuation\">,</span> root<span class=\"token punctuation\">,</span> predecessors<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n\n            <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> adj<span class=\"token punctuation\">[</span>v<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>discovered<span class=\"token punctuation\">[</span>adj<span class=\"token punctuation\">[</span>v<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    discovered<span class=\"token punctuation\">[</span>adj<span class=\"token punctuation\">[</span>v<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n                    queue<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>adj<span class=\"token punctuation\">[</span>v<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    edges<span class=\"token punctuation\">[</span>adj<span class=\"token punctuation\">[</span>v<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> edges<span class=\"token punctuation\">[</span>v<span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n                    predecessors<span class=\"token punctuation\">[</span>adj<span class=\"token punctuation\">[</span>v<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> v<span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">dfs</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">goal<span class=\"token punctuation\">,</span> v <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>vertices<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> discovered <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">let</span> adj <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>adjacent<span class=\"token punctuation\">;</span>\n\n        discovered<span class=\"token punctuation\">[</span>v<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> adj<span class=\"token punctuation\">[</span>v<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">let</span> w <span class=\"token operator\">=</span> adj<span class=\"token punctuation\">[</span>v<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>discovered<span class=\"token punctuation\">[</span>w<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">dfs</span><span class=\"token punctuation\">(</span>goal<span class=\"token punctuation\">,</span> w<span class=\"token punctuation\">,</span> discovered<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">return</span> discovered<span class=\"token punctuation\">[</span>goal<span class=\"token punctuation\">]</span> <span class=\"token operator\">||</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Next, let‚Äôs initialize a new Graph and add vertices and edges. </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> g <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Graph</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ng<span class=\"token punctuation\">.</span><span class=\"token function\">addVertex</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"A\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ng<span class=\"token punctuation\">.</span><span class=\"token function\">addVertex</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"B\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ng<span class=\"token punctuation\">.</span><span class=\"token function\">addVertex</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"C\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ng<span class=\"token punctuation\">.</span><span class=\"token function\">addVertex</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"D\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ng<span class=\"token punctuation\">.</span><span class=\"token function\">addVertex</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"E\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ng<span class=\"token punctuation\">.</span><span class=\"token function\">addVertex</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"F\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ng<span class=\"token punctuation\">.</span><span class=\"token function\">addVertex</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"G\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ng<span class=\"token punctuation\">.</span><span class=\"token function\">addEdge</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"A\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"B\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ng<span class=\"token punctuation\">.</span><span class=\"token function\">addEdge</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"A\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"C\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ng<span class=\"token punctuation\">.</span><span class=\"token function\">addEdge</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"A\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"D\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ng<span class=\"token punctuation\">.</span><span class=\"token function\">addEdge</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"B\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"C\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ng<span class=\"token punctuation\">.</span><span class=\"token function\">addEdge</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"B\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"D\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ng<span class=\"token punctuation\">.</span><span class=\"token function\">addEdge</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"C\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"D\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ng<span class=\"token punctuation\">.</span><span class=\"token function\">addEdge</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"C\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"E\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ng<span class=\"token punctuation\">.</span><span class=\"token function\">addEdge</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"D\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"F\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ng<span class=\"token punctuation\">.</span><span class=\"token function\">addEdge</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"F\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"G\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Let‚Äôs restate the goal of topological sort:</p>\n<blockquote>\n<p>Given a directed acylcic graph, select a vertex with an indegree of zero and return all vertices in the order discovered on each path of the graph.</p>\n</blockquote>\n<p>What do we mean by ‚Äúindegree‚Äù? Indegree and its opposite, outdegree, describe whether or not edges are directed to or from a vertex. So, here, a vertex with an indegree of zero means that there are no vertices directed at it. In our diagram above, the vertex <code>\"A\"</code> has an indegree of zero, but an outdegree of three as its edges at directed at vertices <code>\"B\"</code>, <code>\"C\"</code>, and <code>\"D\"</code>. </p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/99baf78b0cdca3fc5f98fb4451208a62/a987b/jarednielsen-data-structure-directed-acyclic-graph.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABK0lEQVQoz62Su0oDQRSG82CCvW9gp7WVINiIrWghookPoIEgqGuRxEIxoGiSwsJ4IQYkKVKpkVVYo+7MfM5ll7BoyArOzg9nZ+Z85989k1FK8aukxIxAqzkxT2/Ns+9mVYaCYXmZYRtmvOSPKdVLPBQrbNzvUcsX4LztwFKkBMoB8HFyhZPVHB4tlvwyhZlZ6vsez4TQF9ppmN6hecxs0aM6vcD1Yo42ggv/jqPxKT4rN7ZobGA0UB+Uyv3HZq1Kp9GwMf4Hwc4ZB5dFutldeOubuimAWlIIy7hd36KzvG1joT/Tck+v6I7NIZ9eI6dyNDDu9Hu2TLB56BJ1EfXloEiVcPcDSKTEmnBQCzNNMEAjE8sojtyNdhjLAsTgFkjn3kklGpMO+Af9O/AbZ3dPtp0gNzoAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"directed acyclic graph\"\n        title=\"\"\n        src=\"/static/99baf78b0cdca3fc5f98fb4451208a62/b9e4f/jarednielsen-data-structure-directed-acyclic-graph.png\"\n        srcset=\"/static/99baf78b0cdca3fc5f98fb4451208a62/cf440/jarednielsen-data-structure-directed-acyclic-graph.png 148w,\n/static/99baf78b0cdca3fc5f98fb4451208a62/d2d38/jarednielsen-data-structure-directed-acyclic-graph.png 295w,\n/static/99baf78b0cdca3fc5f98fb4451208a62/b9e4f/jarednielsen-data-structure-directed-acyclic-graph.png 590w,\n/static/99baf78b0cdca3fc5f98fb4451208a62/f9b6a/jarednielsen-data-structure-directed-acyclic-graph.png 885w,\n/static/99baf78b0cdca3fc5f98fb4451208a62/2d849/jarednielsen-data-structure-directed-acyclic-graph.png 1180w,\n/static/99baf78b0cdca3fc5f98fb4451208a62/a987b/jarednielsen-data-structure-directed-acyclic-graph.png 1920w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>We want to write a method that returns the following: </p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">[\n  &#39;A&#39;, &#39;B&#39;,\n  &#39;C&#39;, &#39;E&#39;,\n  &#39;D&#39;, &#39;F&#39;,\n  &#39;G&#39;\n]</code></pre></div>\n<p>üìù Note that ‚ÄúE‚Äù follows ‚ÄúC‚Äù and precedes ‚ÄúD‚Äù. </p>\n<p>Why? </p>\n<p>If we are following the control flow of our DFS method, we begin with ‚ÄúA‚Äù, discover ‚ÄúB‚Äù, backtrack to ‚ÄúA‚Äù, then discover ‚ÄúC‚Äù and ‚ÄúE‚Äù, then backtrack to ‚ÄúA‚Äù again to discover ‚ÄúD‚Äù, ‚ÄúF‚Äù, and finally ‚ÄúG‚Äù. </p>\n<p>I just described DFS, so let‚Äôs translate that into pseudocode. </p>\n<ul>\n<li>Given a graph, a goal, and a starting vertex‚Ä¶</li>\n<li>Mark the starting vertex as discovered. </li>\n<li>For each adjacent vertex, if the vertex is not discovered, mark the adjacent vertex as discovered.</li>\n<li>For each adjacent vertex‚Ä¶ Repeat, recursively.</li>\n<li>Return the discovered vertices. </li>\n</ul>\n<p>If our goal is to return the vertices in the order they were discovered, how do we modify our pseudocode? </p>\n<p>Where have we seen this or something like it before? </p>\n<p>ü§î</p>\n<p>Breadth-First Search! </p>\n<p>What‚Äôs the ‚Äúsecret sauce‚Äù of BFS? </p>\n<p>A queue. </p>\n<p>Why? </p>\n<p>Because we move <em>across</em> vertices. </p>\n<p>Will a queue work in DFS? </p>\n<p>üôÖ‚Äç‚ôÄÔ∏è</p>\n<p>Why? </p>\n<p>Because we are moving <em>up</em> and <em>down</em> vertices. </p>\n<p>So what data structure <em>will</em> work? </p>\n<p>A stack. </p>\n<p>Let‚Äôs insert the new steps into our pseudocode:</p>\n<ul>\n<li>Given a graph, a goal, and a starting vertex‚Ä¶</li>\n<li><em>Declare a stack.</em></li>\n<li>Mark the starting vertex as discovered. </li>\n<li>For each adjacent vertex, if the vertex is not discovered, mark the adjacent vertex as discovered.</li>\n<li>For each adjacent vertex‚Ä¶ Repeat, recursively.</li>\n<li><em>Push the vertex onto the stack.</em></li>\n<li>Return the stack. </li>\n</ul>\n<p>Now let‚Äôs translate our pseudocode to JavaScript. We <em>could</em> write a <code>topoSort</code> method from scratch, but because it is so similar to <code>dfs</code>, let‚Äôs copy-pasta and refactor. For reference, here‚Äôs our <code>dfs</code> method: </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">    <span class=\"token function\">dfs</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">goal<span class=\"token punctuation\">,</span> v <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>vertices<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> discovered <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">let</span> adj <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>adjacent<span class=\"token punctuation\">;</span>\n\n        discovered<span class=\"token punctuation\">[</span>v<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> adj<span class=\"token punctuation\">[</span>v<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">let</span> w <span class=\"token operator\">=</span> adj<span class=\"token punctuation\">[</span>v<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>discovered<span class=\"token punctuation\">[</span>w<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">dfs</span><span class=\"token punctuation\">(</span>goal<span class=\"token punctuation\">,</span> w<span class=\"token punctuation\">,</span> discovered<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">return</span> discovered<span class=\"token punctuation\">[</span>goal<span class=\"token punctuation\">]</span> <span class=\"token operator\">||</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>We simply need to make a few adjustments: </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">    <span class=\"token function\">topoSort</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">v <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>vertices<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> discovered <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> s</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> stack <span class=\"token operator\">=</span> s <span class=\"token operator\">||</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> adj <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>adjacent<span class=\"token punctuation\">;</span>\n\n        discovered<span class=\"token punctuation\">[</span>v<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> adj<span class=\"token punctuation\">[</span>v<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">let</span> w <span class=\"token operator\">=</span> adj<span class=\"token punctuation\">[</span>v<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>discovered<span class=\"token punctuation\">[</span>w<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">topoSort</span><span class=\"token punctuation\">(</span>w<span class=\"token punctuation\">,</span> discovered<span class=\"token punctuation\">,</span> stack<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n        stack<span class=\"token punctuation\">.</span><span class=\"token function\">unshift</span><span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> stack <span class=\"token operator\">||</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>We remove the <code>goal</code> parameter as we are not searching for a specific vertex and we add an <code>s</code> parameter so we can use memoization with our <code>stack</code> array. We then declare our <code>stack</code> by assigning it the value stored in <code>s</code> OR we initialize a new, empty array. Before we return our <code>stack</code>, we <em>prepend</em> the vertex to the array. </p>\n<p>Can you top that? </p>\n<p>Yes, actually, you can. There are several approaches to implementing a topological sort algorithm. The approach outlined in <a href=\"https://amzn.to/372MOUz\">Introduction to Algorithms</a> uses a Linked List rather than a Stack, which is very fancy. Another popular approach is using a HashTable. We chose an array because it is straightforward and as long as we remember to treat it as such, works similar to a stack, not to mention it‚Äôs a bit redundant to implement in JavaScript. There are also implementations that compute the <em>time</em> from when a vertex is discovered to when it is ‚Äúfinished‚Äù, meaning all adjacent vertices are explored. This time is then used to determine the position of the vertex in the sorted topology. </p>\n<h2>Reflection</h2>\n<ul>\n<li>What is topology? </li>\n<li>What is a directed acylclic graph? </li>\n<li>What is a topological sort?</li>\n</ul>\n<h3>What is Topology?</h3>\n<p>For our intents and purposes, topology is the study of the <em>shape</em> of a data structure, in this case, a graph. We are specifically interested in the properties of our graph, the edges and vertices, and the relationship between them. </p>\n<h3>What is a Directed Acylcic Graph?</h3>\n<p>A DAG is a graph containing at least one vertex with an indegree of zero and consisting of edges that specify an ordering of vertices, such that the edge (u, v) implies that the vertex <em>u</em> precedes <em>v</em>. </p>\n<h3>What is Topological Sorting?</h3>\n<p>Topological sorting is a graph traversal algorithm that returns the vertices of a directed acyclic graph in the order defined by their edges.</p>","frontmatter":{"title":"Data Structures in JavaScript: Topological Sort with Depth-First Search Graph Traversal","date":"February 19, 2021","description":"Learning data structures will help you understand how software works and improve your problem-solving skills. In this tutorial, you will learn topological sort using depth-first search graph traversal in JavaScript."}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/data-structure-graph-topological-sort/","previous":{"fields":{"slug":"/creativity/"},"frontmatter":{"title":"What is Creativity?"}},"next":{"fields":{"slug":"/data-structure-hash-table-javascript/"},"frontmatter":{"title":"Data Structures in JavaScript: Hash Table"}}}}}