{"componentChunkName":"component---src-templates-blog-post-js","path":"/data-structure-hash-table-separate-chaining/","result":{"data":{"site":{"siteMetadata":{"title":"jarednielsen.com","author":"Jared Nielsen"}},"markdownRemark":{"id":"ed1558b7-4563-51ea-98ea-5b7ce4dca9e1","excerpt":"At some point in your career (today?!) you will want to learn data structures. It’s not just to ace the technical interview and land your dream job. Learning…","html":"<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3f8492266cdadd46d50972877979a3da/a987b/jarednielsen-data-structure-hash-table.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABH0lEQVQoz52SzUvDQBDF++frzYt3D4K2CJUiKkihUUy/gq2K0dqI9QPpQWhtku5mm+TntpFSS6iNA49lh9m3781MLo5jUkES83sYakSwnF9CLi2py4llgOr18Q4ucPcryOo9oqZRfyC462UgjH5ONUE0Owy3igw28oxPLfxSDbdg4B2aU4nrK0yII+T1E+5ehdHOGcGVgzBtxsYN43JrZj+DZS1AKkSjg1c08fIGk+c+qvOOsl8Rxi3xJMxIOLVsPeIVznF3ywT2C9LqIqpaZbn9D4UiQLYcvrZLDDYL+McN/KO6VnyJf9Jcr4eLRegeRiMP2e7OoLpvKEdb7n0Qfg7nazTt9ZpDST5Ij2RoCRY2YyXhwrR/PYxW1/9NmBHfeqFT/oza/oIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"jarednielsen data structure hash table\"\n        title=\"\"\n        src=\"/static/3f8492266cdadd46d50972877979a3da/b9e4f/jarednielsen-data-structure-hash-table.png\"\n        srcset=\"/static/3f8492266cdadd46d50972877979a3da/cf440/jarednielsen-data-structure-hash-table.png 148w,\n/static/3f8492266cdadd46d50972877979a3da/d2d38/jarednielsen-data-structure-hash-table.png 295w,\n/static/3f8492266cdadd46d50972877979a3da/b9e4f/jarednielsen-data-structure-hash-table.png 590w,\n/static/3f8492266cdadd46d50972877979a3da/f9b6a/jarednielsen-data-structure-hash-table.png 885w,\n/static/3f8492266cdadd46d50972877979a3da/2d849/jarednielsen-data-structure-hash-table.png 1180w,\n/static/3f8492266cdadd46d50972877979a3da/a987b/jarednielsen-data-structure-hash-table.png 1920w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>At some point in your career (today?!) you will want to learn data structures. It’s not <em>just</em> to ace the technical interview and land your dream job. Learning data structures will help you understand how software works and improve your problem-solving skills. In this tutorial, you will learn how to implement separate chaining, or chained hashing, to handle collisions in a hash table data structure with JavaScript.</p>\n<p>If you’re new to data structures, you may want to start with <a href=\"https://jarednielsen.com/data-structure-array-javascript/\">Data Structures in JavaScript: Array</a></p>\n<h2>Retrieval Practice</h2>\n<p>Retrieval practice is the surest way to solidify any new learning. Attempt to answer the following questions before proceeding: </p>\n<ul>\n<li>What is a hash table? </li>\n<li>What is hashing?</li>\n<li>What is a linked list? </li>\n</ul>\n<h3>What is a Hash Table?</h3>\n<p>A hash table is a data structure that allows us to quickly look up values using a key. </p>\n<h3>What is Hashing?</h3>\n<p>Hashing is creating a key to use when looking up a value in a hash table.</p>\n<h3>What is a Linked List?</h3>\n<p>A linked list is a data structure in which the sequence is determined by their relationships, or links, rather than their place in memory. </p>\n<h2>Let’s Get Meta</h2>\n<p>Programming is problem solving. Both are metacognitive activities. To excel, we want to improve our thinking <em>about</em> thinking. Ask yourself the following questions and keep them back of mind as you proceed: </p>\n<ul>\n<li>What is a collision? </li>\n<li>What is separate chaining? </li>\n<li>What is open address hashing?</li>\n</ul>\n<h2>How to Implement Hash Table Separate Chainnig in JavaScript</h2>\n<p>Let’s pick up where we left off in the previous tutorial, <a href=\"https://jarednielsen.com/data-structure-hash-table-javascript/\">Data Structures in JavaScript: Hash Table</a>.</p>\n<p>For reference, our complete hash table class looks like this: </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">HashTable</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>table <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">modularHash</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">key</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">let</span> sum <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> key<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> <span class=\"token operator\">++</span>i<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            sum <span class=\"token operator\">+=</span> key<span class=\"token punctuation\">.</span><span class=\"token function\">charCodeAt</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">let</span> hash <span class=\"token operator\">=</span> sum <span class=\"token operator\">%</span> <span class=\"token number\">71</span><span class=\"token punctuation\">;</span> \n\n        <span class=\"token keyword\">return</span> hash<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">key<span class=\"token punctuation\">,</span> value</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">let</span> hash <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">modularHash</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>table<span class=\"token punctuation\">[</span>hash<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> value<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>table<span class=\"token punctuation\">[</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">modularHash</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">key</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">delete</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>table<span class=\"token punctuation\">[</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">modularHash</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> hashTable <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashTable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>In our previous tutorial, we were storing Twitter handles in our hash table and looking them up by the users given name. For example, if I put my name and Twitter handle in our hash table: </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">hashTable<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Jared Nielsen\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"@jarednielsen\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>…logging our table returns: </p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">HashTable { table: [ &lt;29 empty items&gt;, &#39;@jarednielsen&#39; ] }</code></pre></div>\n<p>I can get my handle calling the <code>get</code> method with my given name: </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> query <span class=\"token operator\">=</span> hashTable<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Jared Nielsen\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>☝️ We discovered a problem if we <em>put</em> the following key / value pairs in our table: </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">hashTable<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"NASA\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"@nasa\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nhashTable<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ASAN\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"@asan\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>What’s the problem? </p>\n<p>If we log our table, we see that “ASAN” overwrites “NASA”: </p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">HashTable {\n  table: [ &lt;7 empty items&gt;, &#39;@asan&#39;, &lt;21 empty items&gt;, &#39;@jarednielsen&#39; ]\n}</code></pre></div>\n<p>Do you see the gravity of the situation? 😉</p>\n<p>It’s like two cars trying to park in the same spot. What do we call this IRL? </p>\n<p>A collision. </p>\n<p>Our hash function created the same key for two different values, and, in this implementation, the subsequent value is overwriting the previous. </p>\n<p>What’s the solution? </p>\n<p>There are two primary approaches to handling collisions in a hash table: chained hashing (the topic of this tutorial!) and open address hashing (stay tuned!). We <em>could</em> use a <a href=\"https://en.wikipedia.org/wiki/Perfect_hash_function\">perfect hash function</a>, but that’s a topic for another day (or book!).</p>\n<p>Let’s return to the car analogy. If there aren’t enough parking spots for two vehicles, what do we do? We could build a parking garage or we could hire a valet. </p>\n<p>A parking garage would allow us to “stack” cars on top of each other and a valet would allow us to “abstract” the details by parking the cars in some other location. </p>\n<p>How can we store more than one value at a given index in an array? </p>\n<p>🤔</p>\n<p>With another array!</p>\n<p>For reference, here’s our existing <code>put</code> method:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">    <span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">key<span class=\"token punctuation\">,</span> value</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">let</span> hash <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">modularHash</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>table<span class=\"token punctuation\">[</span>hash<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> value<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>What do we need to do to update this method? Let’s pseudocode it:</p>\n<ul>\n<li>Create an array at the index equal to the hash</li>\n<li>Push an array to the new array containing our key / value pair. </li>\n</ul>\n<p>Let’s translate this to JavaScript:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">    <span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">key<span class=\"token punctuation\">,</span> value</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">let</span> hash <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">modularHash</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>table<span class=\"token punctuation\">[</span>hash<span class=\"token punctuation\">]</span> <span class=\"token operator\">===</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>table<span class=\"token punctuation\">[</span>hash<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>table<span class=\"token punctuation\">[</span>hash<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>Why do we need to push the <code>key</code> <em>and</em> <code>value</code>? We can no longer look up an individual value by it’s corresponding hash, so we will need to first look up the location in the table with the hash and then use the key that generated the hash to find its corresponding value. </p>\n<p>If we log our <code>hashTable</code>, it returns:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">HashTable {\n  table: [\n    &lt;7 empty items&gt;,\n    [ [Array], [Array] ],\n    &lt;21 empty items&gt;,\n    [ [Array] ]\n  ]\n}</code></pre></div>\n<p>Where have we seen this, or something like it before? </p>\n<p>🤔</p>\n<p>A linked list! </p>\n<p>The ‘classic’ implementation of chained hashing uses a linked list to store the colliding values. For our intents and purposes, arrays will suffice. If you want to go deeper, check out <a href=\"https://jarednielsen.com/data-structure-linked-list-javascript/\">Data Structures in JavaScript: Linked List</a>.</p>\n<p>Now we need to <em>get</em> our values. For reference, our existing <code>get</code> method looks like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">    <span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>table<span class=\"token punctuation\">[</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">modularHash</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>Super simple and straightforward. Now that we are working with nested arrays, what do we need to do? </p>\n<p>For every array stored in our hashed index…</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">    <span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">let</span> hash <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">modularHash</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>table<span class=\"token punctuation\">[</span>hash<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>table<span class=\"token punctuation\">[</span>hash<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">===</span> key<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>table<span class=\"token punctuation\">[</span>hash<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>We update our <code>get</code> method to iterate over all of the elements stored at the hash index. If the first value in an element is equal to the key, we return the second value. If none of the values are equal to the key, we return undefined. </p>\n<h2>Reflection</h2>\n<ul>\n<li>What is a collision? </li>\n<li>What is separate chaining? </li>\n<li>What is open address hashing? </li>\n</ul>\n<h3>What is a Collision?</h3>\n<p>A collision occurs in a hash table when our put method attempts to store multiple values at the same hash index.</p>\n<h3>What is Separate Chaining?</h3>\n<p>Separate chaining is an approach to handling collisions in a hash table by storing multiple values at the index, <em>chained</em> together. </p>\n<h3>What is Open Address Hashing?</h3>\n<p>If chained hashing is creating a <em>chain</em> of key / value pairs at a hashed index, what do you think the opposite approach will be? </p>\n<h2>Data Structures in JavaScript: Separate Chaining in Hash Tables</h2>\n<p>In this tutorial you learned chained hashing. In our next tutorial, we’ll look at another solution to collisions in hash tables: open address hashing. </p>","frontmatter":{"title":"Data Structures in JavaScript: Separate Chaining Hash Table Collisions","date":"March 05, 2021","description":"Learning data structures will help you understand how software works and improve your problem-solving skills. In this tutorial, you will learn how to implement separate chaining to handle collisions in a hash table data structure with JavaScript."}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/data-structure-hash-table-separate-chaining/","previous":{"fields":{"slug":"/creative/"},"frontmatter":{"title":"How to Be Creative"}},"next":{"fields":{"slug":"/data-structure-hash-table-linear-probing/"},"frontmatter":{"title":"Data Structures in JavaScript: Linear Probing Hash Table Collisions"}}}}}