{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/deploy-gatsbyjs-github-pages-user/",
    "result": {"data":{"site":{"siteMetadata":{"title":"jarednielsen.com"}},"markdownRemark":{"id":"157ef90b-d133-51c6-b5c9-5a0d5414b61a","excerpt":"GatsbyJS is a great option for a static site generator, even if you’re unfamiliar with React. It’s very easy to use, super snappy, and has a robust ecosystem…","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/887ed68880cfb9dd74202af92e9679b3/29007/jared-nielsen-deploy-gatsbyjs-github-pages-user-hello-world.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.32911392405063%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAC4jAAAuIwF4pT92AAABK0lEQVQoz82STUvDQBCG8/fFi54EBZF68GAvFQQpCPZgaZAolIIxfiFUTNOmttZN2iSzjyRpaiz1IHpwlpeZYYeH2Zk1tNb8pYxfAUQj8g2wsOX4U6CFBWBesfDZKYCpRVFEHMdZHIYh0+n0C1hSGsk8h0AFKBf8xxmzd0GSHGuISFZk2zbVapV6vU673cayLEzTpOf2svsH54mjyhmtk2uah/ec7tocrDc43rqkexXyept3uuhQKYXruniex2g0wvd9BgMff9jHd4SL7QBzZ0xjbYy1p7AqbzQ2+zQ3FE5NiIMSsDy3VTZ5EVwLuufQ2QenpnluaaIJqB4M73QGk6QETJ+eJEmmNC4rLR7cCF6nyPN56kySL0SWlvITKzae+bmK5Rn/62OvAH4Ah85WTAdStFIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"How to Deploy a GatsbyJS Blog on GitHub Pages as a User Site\"\n        title=\"How to Deploy a GatsbyJS Blog on GitHub Pages as a User Site\"\n        src=\"/static/887ed68880cfb9dd74202af92e9679b3/f058b/jared-nielsen-deploy-gatsbyjs-github-pages-user-hello-world.png\"\n        srcset=\"/static/887ed68880cfb9dd74202af92e9679b3/c26ae/jared-nielsen-deploy-gatsbyjs-github-pages-user-hello-world.png 158w,\n/static/887ed68880cfb9dd74202af92e9679b3/6bdcf/jared-nielsen-deploy-gatsbyjs-github-pages-user-hello-world.png 315w,\n/static/887ed68880cfb9dd74202af92e9679b3/f058b/jared-nielsen-deploy-gatsbyjs-github-pages-user-hello-world.png 630w,\n/static/887ed68880cfb9dd74202af92e9679b3/40601/jared-nielsen-deploy-gatsbyjs-github-pages-user-hello-world.png 945w,\n/static/887ed68880cfb9dd74202af92e9679b3/78612/jared-nielsen-deploy-gatsbyjs-github-pages-user-hello-world.png 1260w,\n/static/887ed68880cfb9dd74202af92e9679b3/29007/jared-nielsen-deploy-gatsbyjs-github-pages-user-hello-world.png 1600w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>GatsbyJS is a great option for a static site generator, even if you’re unfamiliar with React. It’s very easy to use, super snappy, and has a robust ecosystem. Plus: there’s the added of bonus of working with React! Win win win! To deploy a GatsbyJS blog as a User site on GitHub Pages requires some minor additional configurations. According to the docs, <a href=\"https://help.github.com/articles/user-organization-and-project-pages/#user-and-organization-pages-sites\">your personal User site on GitHub Pages repository must be deployed from <code class=\"language-text\">master</code> branch</a>. This creates an issue for us (no pun intended). When we run <code class=\"language-text\">build</code> our <code class=\"language-text\">master</code> branch will be cluttered with files (not to mention entirely transformed). The solution is to work locally from a <code class=\"language-text\">develop</code> branch and use <code class=\"language-text\">gh-pages</code> to deploy to <code class=\"language-text\">master</code> on remote.</p>\n<h2>Install GatsbyJS and Create a New Blog</h2>\n<p>If you’re entirely new to this, run the following commands from the command line:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">npm install -g gatsby-cli\ngatsby new &lt;your-gh-pages-repo.github.io&gt; https://github.com/gatsbyjs/gatsby-starter-blog\ncd &lt;your-gh-pages-repo.github.io&gt;\ngatsby develop</code></pre></div>\n<p>Your terminal output should read:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">You can now view gatsby-starter-blog in the browser.\n\n  http://localhost:8000/</code></pre></div>\n<h2>Initialize Git</h2>\n<p>If you haven’t already, create your repository on GitHub and initialize it locally. Add your remote origin; then add, commit and run:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">git branch -m develop</code></pre></div>\n<p>This will <em>move</em> your <code class=\"language-text\">master</code> branch to a new branch named <code class=\"language-text\">develop</code>. I name mine <code class=\"language-text\">develop</code> to mirror the GatsbyJS command for local development, but you can name it whatever you like.</p>\n<p>If you run <code class=\"language-text\">git branch</code>, you will notice you don’t have a <code class=\"language-text\">master</code> branch anymore. This is fine and good. If you navigate back to GitHub, you will find your <code class=\"language-text\">master</code> branch there. You won’t push to <code class=\"language-text\">master</code>. Instead, you will run:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">git push -u origin develop</code></pre></div>\n<h2>Install &#x26; Configure gh-pages</h2>\n<p>Install <a href=\"https://www.npmjs.com/package/gh-pages\"><code class=\"language-text\">gh-pages</code></a>:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">npm install gh-pages --save-dev</code></pre></div>\n<p>To your <code class=\"language-text\">package.json</code>, add the following script:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token operator\">...</span>\n        <span class=\"token string\">\"deploy\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"gatsby build &amp;&amp; gh-pages -d public -b master\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Note the <code class=\"language-text\">-b master</code> flag. When we run <code class=\"language-text\">gh-pages</code>, we will do so from our <code class=\"language-text\">develop</code> branch, but we want it to deploy to our <code class=\"language-text\">master</code>.</p>\n<p>To deploy, run:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">npm run deploy</code></pre></div>\n<h2>Customize Your GatsbyJS Blog</h2>\n<p><a href=\"https://twitter.com/kylemathews\">Kyle Mathews</a> is a swell guy, but it’s not his blog anymore. You will want to customize it…</p>\n<ul>\n<li>\n<p>In <code class=\"language-text\">assets</code>, add your own profile picture. You can replace the current <code class=\"language-text\">.jpg</code> with your own and use the same name, or, if you choose a different file name (or format), you will need to edit the GraphQL query in <code class=\"language-text\">src/components/bio.js</code>.</p>\n</li>\n<li>\n<p>While you’re in <code class=\"language-text\">bio.js</code>, you’ll want to add your own bio and social links.</p>\n</li>\n<li>\n<p>There are a few things to update in <code class=\"language-text\">gatsby-config.js</code>:</p>\n<ul>\n<li><code class=\"language-text\">siteMetadata</code>: This should be self-explanatory.</li>\n<li><code class=\"language-text\">gatsby-plugin-google-analytics</code>: If you’re using Google Analytics, add your tracking ID here.</li>\n<li><code class=\"language-text\">gatsby-plugin-manifest</code>: Update the <code class=\"language-text\">icon</code> property, unless you’re okay using the Gatsby icon.</li>\n</ul>\n</li>\n<li>\n<p>Lastly, don’t forget the <code class=\"language-text\">favicon.ico</code> in <code class=\"language-text\">static</code>!</p>\n</li>\n</ul>\n<h2>Draft Branches</h2>\n<p>When I’m working on a draft for a blog post, I create a new branch and when I’m ready to publish, I merge it with <code class=\"language-text\">develop</code>, then add/commit/push and <code class=\"language-text\">npm run deploy</code>.</p>\n<h2>Using a Custom Domain Name with GitHub Pages</h2>\n<p>If you own and want to use your custom domain name with your personal GitHub Pages, the set up is fairly easy, but different depending on your DNS provider. I refer you to the GitHub Help article on <a href=\"https://help.github.com/articles/using-a-custom-domain-with-github-pages/\">Using a custom domain with GitHub Pages</a> for your specific situation.</p>\n<p>Add your <code class=\"language-text\">CNAME</code> file to your <code class=\"language-text\">static</code> directory in your <code class=\"language-text\">develop</code> branch. The <code class=\"language-text\">CNAME</code> file only needs to contain the name of your domain, so, in my case there is one line that reads:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">jarednielsen.com</code></pre></div>\n<p>Happy blogging!</p>\n<h2>(Re)Sources</h2>\n<ul>\n<li>\n<p><a href=\"https://pages.github.com/\">GitHub Pages</a></p>\n</li>\n<li>\n<p><a href=\"https://github.com/gatsbyjs/gatsby-starter-blog\">gatsbyj-starter-blog</a></p>\n</li>\n<li>\n<p><a href=\"https://www.gatsbyjs.org/docs/how-gatsby-works-with-github-pages/\">How Gatsby Works with GitHub Pages</a></p>\n</li>\n<li>\n<p><a href=\"https://help.github.com/articles/using-a-custom-domain-with-github-pages/\">Using a custom domain with GitHub Pages</a></p>\n</li>\n<li>\n<p><a href=\"https://medium.freecodecamp.org/how-to-write-a-blog-using-gatsby-from-your-phone-e92a99851a04\">How to Use Gatsby to Create Your Blog and Work on It From Your Phone</a> (h/t <a href=\"https://medium.freecodecamp.org/@chen\">Hu Chen</a>)</p>\n</li>\n</ul>","frontmatter":{"title":"How to Deploy a GatsbyJS Blog on GitHub Pages as a User Site","date":"November 26, 2018","description":"Hosting a GatsbyJS blog on GitHub Pages for your user site requires additional configuration. Here's how to deploy."}},"previous":{"fields":{"slug":"/make-interactive-story-map-leaflet-non-geographical-images/"},"frontmatter":{"title":"How to Make an Interactive Story Map Using Leaflet.js and Non-Geographical Images"}},"next":{"fields":{"slug":"/teach-adults-code/"},"frontmatter":{"title":"How to Teach Adults to Code"}}},"pageContext":{"id":"157ef90b-d133-51c6-b5c9-5a0d5414b61a","previousPostId":"4ffc4d00-5b2c-5237-b4d3-1bf240dc37ed","nextPostId":"4089c530-0d68-52d5-a152-55c3692c1fde"}},
    "staticQueryHashes": ["2841359383","3257411868"]}