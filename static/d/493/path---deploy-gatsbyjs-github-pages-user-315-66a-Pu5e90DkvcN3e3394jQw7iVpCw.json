{"data":{"site":{"siteMetadata":{"title":"jarednielsen.com","author":"Jared Nielsen"}},"markdownRemark":{"id":"157ef90b-d133-51c6-b5c9-5a0d5414b61a","excerpt":"GatsbyJS is a great option for a static site generator, even if you’re unfamiliar with React. It’s very easy to use, super snappy, and has a robust ecosystem…","html":"<p><img src=\".image.png\" alt=\"How to Deploy a GatsbyJS Blog on GitHub Pages as a User Site\"></p>\n<p>GatsbyJS is a great option for a static site generator, even if you’re unfamiliar with React. It’s very easy to use, super snappy, and has a robust ecosystem. Plus: there’s the added of bonus of working with React! Win win win! To deploy a GatsbyJS blog as a User site on GitHub Pages requires some minor additional configurations. According to the docs, <a href=\"https://help.github.com/articles/user-organization-and-project-pages/#user-and-organization-pages-sites\">your personal User site on GitHub Pages repository must be deployed from <code class=\"language-text\">master</code> branch</a>. This creates an issue for us (no pun intended). When we run <code class=\"language-text\">build</code> our <code class=\"language-text\">master</code> branch will be cluttered with files (not to mention entirely transformed). The solution is to work locally from a <code class=\"language-text\">develop</code> branch and use <code class=\"language-text\">gh-pages</code> to deploy to <code class=\"language-text\">master</code> on remote.</p>\n<h2>Install GatsbyJS and Create a New Blog</h2>\n<p>If you’re entirely new to this, run the following commands from the command line:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">npm install -g gatsby-cli\ngatsby new &lt;your-gh-pages-repo.github.io&gt; https://github.com/gatsbyjs/gatsby-starter-blog\ncd &lt;your-gh-pages-repo.github.io&gt;\ngatsby develop</code></pre></div>\n<p>Your terminal output should read:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">You can now view gatsby-starter-blog in the browser.\n\n  http://localhost:8000/</code></pre></div>\n<h2>Initialize Git</h2>\n<p>If you haven’t already, create your repository on GitHub and initialize it locally. Add your remote origin; then add, commit and run:  </p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">git branch -m develop</code></pre></div>\n<p>This will ‘move’ your <code class=\"language-text\">master</code> branch to a new branch named <code class=\"language-text\">develop</code>. I name mine <code class=\"language-text\">develop</code> to mirror the GatsbyJS command for local development, but you can name it whatever you like.</p>\n<p>If you run <code class=\"language-text\">git branch</code>, you will notice you don’t have a <code class=\"language-text\">master</code> branch anymore. This is fine and good. If you navigate back to GitHub, you will find your <code class=\"language-text\">master</code> branch there. You won’t push to <code class=\"language-text\">master</code>. Instead, you will run:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">git push -u origin develop</code></pre></div>\n<h2>Install &#x26; Configure gh-pages</h2>\n<p>Install <a href=\"https://www.npmjs.com/package/gh-pages\"><code class=\"language-text\">gh-pages</code></a>:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">npm install gh-pages --save-dev</code></pre></div>\n<p>To your <code class=\"language-text\">package.json</code>, add the following script:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"scripts\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token operator\">...</span>\n        <span class=\"token string\">\"deploy\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"gatsby build &amp;&amp; gh-pages -d public -b master\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Note the <code class=\"language-text\">-b master</code> flag. When we run <code class=\"language-text\">gh-pages</code>, we will do so from our <code class=\"language-text\">develop</code> branch, but we want it to deploy to our <code class=\"language-text\">master</code>.  </p>\n<p>To deploy, run:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">npm run deploy</code></pre></div>\n<h2>Customize Your GatsbyJS Blog</h2>\n<p><a href=\"https://twitter.com/kylemathews\">Kyle Mathews</a> is a swell guy, but it’s not his blog anymore. You will want to customize it…</p>\n<ul>\n<li>\n<p>In <code class=\"language-text\">assets</code>, add your own profile picture. You can replace the current <code class=\"language-text\">.jpg</code> with your own and use the same name, or, if you choose a different file name (or format), you will need to edit the GraphQL query in <code class=\"language-text\">src/components/bio.js</code>.</p>\n</li>\n<li>\n<p>While you’re in <code class=\"language-text\">bio.js</code>, you’ll want to add your own bio and social links.</p>\n</li>\n<li>\n<p>There are a few things to update in <code class=\"language-text\">gatsby-config.js</code>:</p>\n<ul>\n<li><code class=\"language-text\">siteMetadata</code>: Should be self-explanatory.</li>\n<li><code class=\"language-text\">gatsby-plugin-google-analytics</code>: If you’re using Google Analytics, add your tracking ID here.</li>\n<li><code class=\"language-text\">gatsby-plugin-manifest</code>: Update the <code class=\"language-text\">icon</code> property, unless you’re okay using the Gatsby icon.</li>\n</ul>\n</li>\n<li>\n<p>Lastly, don’t forget the <code class=\"language-text\">favicon.ico</code> in <code class=\"language-text\">static</code>!</p>\n</li>\n</ul>\n<h2>Draft Branches</h2>\n<p>When I’m working on a draft for a blog post, I create a new branch and after I’m ready to publish, I merge it with <code class=\"language-text\">develop</code>, then add/commit/push and <code class=\"language-text\">npm run deploy</code>.</p>\n<h2>Using a Custom Domain Name with GitHub Pages</h2>\n<p>If you own and want to use a custom domain name with your personal GitHub Pages, the set up is fairly easy, but different depending on your DNS provider. I refer you to the GitHub Help article on <a href=\"https://help.github.com/articles/using-a-custom-domain-with-github-pages/\">Using a custom domain with GitHub Pages</a> for your specific situation.</p>\n<p>If you need a <code class=\"language-text\">CNAME</code> file, like me, add it to your <code class=\"language-text\">static</code> directory. The <code class=\"language-text\">CNAME</code> file only needs to contain the name of your domain, so, in my case there is one line that reads:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">jarednielsen.com</code></pre></div>\n<h2>(Re)Sources</h2>\n<ul>\n<li>\n<p><a href=\"https://pages.github.com/\">GitHub Pages</a></p>\n</li>\n<li>\n<p><a href=\"https://github.com/gatsbyjs/gatsby-starter-blog\">gatsbyj-starter-blog</a></p>\n</li>\n<li>\n<p><a href=\"https://www.gatsbyjs.org/docs/how-gatsby-works-with-github-pages/\">How Gatsby Works with GitHub Pages</a></p>\n</li>\n<li>\n<p><a href=\"https://medium.freecodecamp.org/how-to-write-a-blog-using-gatsby-from-your-phone-e92a99851a04\">How to Use Gatsby to Create Your Blog and Work on It From Your Phone</a></p>\n</li>\n</ul>","frontmatter":{"title":"How to Deploy a GatsbyJS Blog on GitHub Pages as a User Site","date":"November 26, 2018","description":"Hosting a GatsbyJS blog on GitHub Pages for your user site requires additional configuration. Here's how to deploy."}}},"pageContext":{"slug":"/deploy-gatsbyjs-github-pages-user/","previous":null,"next":{"fields":{"slug":"/teach-adults-code/"},"frontmatter":{"title":"How to Teach Adults to Code"}}}}